<!DOCTYPE html>
<html lang="pl">
<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomocnik Serwisowy</title>
    <link rel="stylesheet" href="stylesv1.2.css">
    <script type="module" src="counter.js"></script>
</head>

<body>

<header class="header">
    <h1>Pomocnik Serwisowy</h1>
</header>

<div class="clock" id="clock"></div>

<div id="toast-container"></div>

<!-- Licznik wejść -->
<div id="visitCounter" class="visit-counter"></div>

<div class="container">
    <div class="devices-container fade-in">
        <h3>Uchwyty Zakrętarki</h3>
        <button onclick="copyData('NA073630, 1\n604107-00, 1\n642883-00C, 1\nN866541, 1\nN921819, 1\nBC-N019351\nNA202231, 1\nN864734, 1\nN811325, 1\nN864740, 1\nN864736, 1\nN919242, 1')">DCF850</button>
        <button onclick="copyData('N439275, 1\nN089668, 1\n642883-00C, 1\nN439271, 1\nN424032, 1\nN437890, 1\nN612522, 1\nN019351, 1\nN016823, 1\nN421245, 1\nN075339, 1')">DCF887</button>
        <button onclick="copyData('NA472056, 1\nNA163453, 1\nNA472064, 1\nNA562707, 1\nN019351, 1\n604107-00, 1\nNA168988, 2\nN864740, 1\nN864736, 1\nNA166862, 1\nNA162532, 1\nNA549696, 1')">DCF860N</button>
        <button onclick="copyData('N439275, 1\nN089668, 1\n642883-00C, 1\nN611681, 1\nN424032, 1\nN437890, 1\nN019351, 1\nN612522, 1\nN453417, 1\nN421245, 1')">DCF809</button>
    </div>

    <div class="devices-container fade-in">
        <h3>Różne</h3>
        <button onclick="copyData('N233871, 1\n330003-60, 1\nN233867, 1\n330003-64, 1\nN233866, 1\nN915019, 1\nN915018, 1\nN077124, 1\n577744-00, 1\nN233864, 2\nN233863, 2\n323711-41, 1\nN077123, 1\nN093430, 2\nN233865, 1\nN233859, 1\n870889-02, 1')">Aligator Zestaw</button>
        <button onclick="copyData('N430442, 1\nN329079, 1\nNA293294, 1')">Oscylacyjna DWE6423</button>
    </div>

    <div class="main-content fade-in">
        <div class="input-section fade-in">
            <label for="arrivalTime">Wpisz czas przyjścia (np. 08:30):</label>
            <input type="time" id="arrivalTime" name="arrivalTime">
            <button onclick="calculateTime()">Oblicz czas wyjścia</button>
        </div>

        <div class="time-result fade-in">
            <h3>Nowy czas wyjścia:</h3>
            <p id="outputTime">--:--</p>
        </div>

        <div class="links-section fade-in">
            <h3>Przydatne strony:</h3>
            <a href="https://erpatech.com/" target="_blank">ErpaTech</a>
            <a href="https://panel.rcponline.pl/app/" target="_blank">RCP Online</a>
            <a href="https://service.dewalt.pl/DEWALT/PL/pl-PL/" target="_blank">DeWalt</a>
            <a href="https://www.2helpu.com/STANLEY/PL/pl-PL/" target="_blank">Stanley</a>
            <a href="https://service.blackanddecker.pl/BD/PL/pl-PL/" target="_blank">Black & Decker</a>
        </div>
    </div>
</div>

<div class="smar-container fade-in">
    <h3>Inne</h3>
    <button onclick="copyData('286436-00, 1')">Smar Grafitowy Duży</button>
    <button onclick="copyData('583534-00, 1')">Smar Grafitowy Mały</button>
    <button onclick="window.open('Akumulatory.pdf', '_blank')">Otwórz plik PDF</button>
    <button onclick="window.location.href='npr.ahk'" download>Pobierz plik npr.ahk</button>
</div>

<script>
function calculateTime() {
    const arrivalInput = document.getElementById('arrivalTime');
    const arrivalTime = arrivalInput.value;
    if (!arrivalTime) {
        alert('Proszę wpisać czas przyjścia!');
        arrivalInput.style.border = '2px solid red';
        return;
    }
    arrivalInput.style.border = '';

    const [hours, minutes] = arrivalTime.split(':').map(num => parseInt(num));
    const workHours = 8;
    const workMinutes = 15;

    let endHours = hours + workHours;
    let endMinutes = minutes + workMinutes;

    if (endMinutes >= 60) {
        endMinutes -= 60;
        endHours += 1;
    }

    const formattedEndHours = String(endHours).padStart(2, '0');
    const formattedEndMinutes = String(endMinutes).padStart(2, '0');
    document.getElementById('outputTime').innerText = `${formattedEndHours}:${formattedEndMinutes}`;

    localStorage.setItem('arrivalTime', arrivalTime);
}

function copyData(partNumbers) {
    navigator.clipboard.writeText(partNumbers).then(() => {
        showToast('Skopiowano numery części!');
    }).catch(err => {
        console.error('Błąd kopiowania: ', err);
        showToast('Nie udało się skopiować danych.');
    });
}

function showToast(message) {
    const container = document.getElementById('toast-container');
    const toast = document.createElement('div');
    toast.classList.add('toast');
    toast.innerText = message;
    container.appendChild(toast);
    setTimeout(() => {
        toast.classList.add('hidden');
        setTimeout(() => toast.remove(), 500);
    }, 3000);
}

function updateClock() {
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');
    const clock = document.getElementById('clock');
    clock.innerText = `${hours}:${minutes}:${seconds}`;
    clock.style.transform = 'scale(1.05)';
    setTimeout(() => clock.style.transform = 'scale(1)', 200);
}
setInterval(updateClock, 1000);
window.onload = updateClock;
</script>

</body>
</html>
